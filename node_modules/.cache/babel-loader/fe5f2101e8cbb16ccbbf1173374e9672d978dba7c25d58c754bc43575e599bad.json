{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nimport _slicedToArray from \"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nvar _jsxFileName = \"/Users/utils/misc/alexnicita.github.io/src/WinXP/apps/Minesweeper/MinesweeperView.js\",\n  _s = $RefreshSig$(),\n  _this3 = this,\n  _templateObject,\n  _templateObject2,\n  _templateObject3;\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { WindowDropDowns } from 'components';\nimport dropDownData from './dropDownData';\nimport dead from 'assets/minesweeper/dead.png';\nimport smile from 'assets/minesweeper/smile.png';\nimport win from 'assets/minesweeper/win.png';\nimport ohh from 'assets/minesweeper/ohh.png';\nimport empty from 'assets/empty.png';\nimport open1 from 'assets/minesweeper/open1.png';\nimport open2 from 'assets/minesweeper/open2.png';\nimport open3 from 'assets/minesweeper/open3.png';\nimport open4 from 'assets/minesweeper/open4.png';\nimport open5 from 'assets/minesweeper/open5.png';\nimport open6 from 'assets/minesweeper/open6.png';\nimport open7 from 'assets/minesweeper/open7.png';\nimport open8 from 'assets/minesweeper/open8.png';\nimport flag from 'assets/minesweeper/flag.png';\nimport mine from 'assets/minesweeper/mine-ceil.png';\nimport mineDeath from 'assets/minesweeper/mine-death.png';\nimport misFlagged from 'assets/minesweeper/misflagged.png';\nimport question from 'assets/minesweeper/question.png';\nimport digit0 from 'assets/minesweeper/digit0.png';\nimport digit1 from 'assets/minesweeper/digit1.png';\nimport digit2 from 'assets/minesweeper/digit2.png';\nimport digit3 from 'assets/minesweeper/digit3.png';\nimport digit4 from 'assets/minesweeper/digit4.png';\nimport digit5 from 'assets/minesweeper/digit5.png';\nimport digit6 from 'assets/minesweeper/digit6.png';\nimport digit7 from 'assets/minesweeper/digit7.png';\nimport digit8 from 'assets/minesweeper/digit8.png';\nimport digit9 from 'assets/minesweeper/digit9.png';\nimport digit_ from 'assets/minesweeper/digit-.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar digits = [digit0, digit1, digit2, digit3, digit4, digit5, digit6, digit7, digit8, digit9];\nfunction renderDigits(number) {\n  var _this = this;\n  var numberStr;\n  if (number < 0) {\n    var _number = -number % 100;\n    if (_number === 0) {\n      numberStr = '00';\n    } else if (_number < 10) {\n      numberStr = '0' + _number;\n    } else {\n      numberStr = String(_number);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: digit_,\n        alt: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), numberStr.split('').map(function (n, i) {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: digits[n],\n          alt: n\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this);\n      })]\n    }, void 0, true);\n  }\n  numberStr = number < 999 ? String(number) : '999';\n  if (number < 10) numberStr = '00' + numberStr;else if (number < 100) numberStr = '0' + numberStr;\n  return numberStr.split('').map(function (n, i) {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: digits[n],\n      alt: n\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 20\n    }, _this);\n  });\n}\nfunction genDropDownData(difficulty) {\n  var _Game = _toConsumableArray(dropDownData.Game);\n  _Game[2].symbol = difficulty === 'Beginner' && 'check';\n  _Game[3].symbol = difficulty === 'Intermediate' && 'check';\n  _Game[4].symbol = difficulty === 'Expert' && 'check';\n  return {\n    Game: _Game,\n    Help: dropDownData.Help\n  };\n}\nfunction MineSweeperView(_ref) {\n  _s();\n  var ceils = _ref.ceils,\n    className = _ref.className,\n    changeCeilState = _ref.changeCeilState,\n    onReset = _ref.onReset,\n    openCeil = _ref.openCeil,\n    openCeils = _ref.openCeils,\n    mines = _ref.mines,\n    status = _ref.status,\n    seconds = _ref.seconds,\n    onClose = _ref.onClose,\n    difficulty = _ref.difficulty,\n    openingCeil = _ref.openingCeil,\n    openingCeils = _ref.openingCeils;\n  var face = useRef(null);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    mouseDownContent = _useState2[0],\n    setMouseDownContent = _useState2[1];\n  var _useState3 = useState({\n      index: -1,\n      behavior: ''\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    openBehavior = _useState4[0],\n    setOpenBehavior = _useState4[1];\n  function remainMines() {\n    return mines - ceils.filter(function (ceil) {\n      return ceil.state === 'flag' || ceil.state === 'misflagged';\n    }).length;\n  }\n  function statusFace() {\n    if (mouseDownContent) return /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"ohh\",\n      src: ohh\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 34\n    }, this);\n    switch (status) {\n      case 'died':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"dead\",\n          src: dead\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 16\n        }, this);\n      case 'won':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"win\",\n          src: win\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"smile\",\n          src: smile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 16\n        }, this);\n    }\n  }\n  function onMouseDownContent(e) {\n    if (e.button !== 0) return;\n    if (face.current.contains(e.target) || status === 'won' || status === 'died') return;\n    setMouseDownContent(true);\n  }\n  useEffect(function () {\n    var index = openBehavior.index,\n      behavior = openBehavior.behavior;\n    switch (behavior) {\n      case 'single':\n        return openingCeil(index);\n      case 'multi':\n        return openingCeils(index);\n      default:\n        openingCeil(-1);\n    }\n    // eslint-disable-next-line\n  }, [openBehavior.index, openBehavior.behavior]);\n  function onMouseDownCeils(e) {\n    var index = Array.prototype.indexOf.call(e.currentTarget.children, e.target.closest('.mine__ceil'));\n    if (e.button === 2 && e.buttons === 2 && index !== -1) {\n      changeCeilState(index);\n    } else if (e.button === 0 && e.buttons === 1) {\n      setOpenBehavior({\n        index: index,\n        behavior: 'single'\n      });\n    } else if (e.buttons === 3) {\n      setOpenBehavior({\n        index: index,\n        behavior: 'multi'\n      });\n    }\n  }\n  function onMouseOverCeils(e) {\n    var index = Array.prototype.indexOf.call(e.currentTarget.children, e.target.closest('.mine__ceil'));\n    setOpenBehavior({\n      index: index,\n      behavior: openBehavior.behavior\n    });\n  }\n  function onMouseUpCeils() {\n    var behavior = openBehavior.behavior,\n      index = openBehavior.index;\n    if (index === -1) return;\n    if (behavior === 'single') {\n      openCeil(index);\n    } else if (behavior === 'multi') {\n      openCeils(index);\n    }\n  }\n  function onClickOptionItem(item) {\n    switch (item) {\n      case 'Exit':\n        onClose();\n        break;\n      case 'Beginner':\n      case 'Intermediate':\n      case 'Expert':\n        onReset(item);\n        break;\n      case 'New':\n        onReset();\n        break;\n      default:\n    }\n  }\n  useEffect(function () {\n    window.addEventListener('mouseup', onMouseUp);\n    return function () {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  function onMouseUp(e) {\n    setOpenBehavior({\n      index: -1,\n      behavior: ''\n    });\n    setMouseDownContent(false);\n  }\n  useEffect(function () {\n    window.addEventListener('mouseup', onMouseUp);\n    return function () {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    onContextMenu: function onContextMenu(e) {\n      return e.preventDefault();\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mine__options\",\n      children: /*#__PURE__*/_jsxDEV(WindowDropDowns, {\n        items: genDropDownData(difficulty),\n        onClickItem: onClickOptionItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mine__content\",\n      onMouseDown: onMouseDownContent,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mine__score-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mine__digits__outer\",\n          children: renderDigits(remainMines())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mine__face__outer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            ref: face,\n            className: \"mine__face\",\n            onClick: function onClick() {\n              return onReset();\n            },\n            children: [statusFace(), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"smile\",\n              src: smile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mine__digits__outer\",\n          children: renderDigits(seconds)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mine__content__inner\",\n        onMouseDown: onMouseDownCeils,\n        onMouseOver: onMouseOverCeils,\n        onMouseUp: onMouseUpCeils,\n        children: /*#__PURE__*/_jsxDEV(Ceils, {\n          ceils: ceils\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_s(MineSweeperView, \"vyG53k/WOeg4FVSAPGQtmDMdRqU=\");\n_c = MineSweeperView;\nfunction getTextImg(index) {\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\n}\nfunction Ceils(_ref2) {\n  var _this2 = this;\n  var ceils = _ref2.ceils;\n  function renderContent(ceil) {\n    var state = ceil.state,\n      minesAround = ceil.minesAround,\n      opening = ceil.opening;\n    switch (state) {\n      case 'open':\n        return /*#__PURE__*/_jsxDEV(MinesAround, {\n          mines: minesAround\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 16\n        }, this);\n      case 'flag':\n        return /*#__PURE__*/_jsxDEV(Flag, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 16\n        }, this);\n      case 'misflagged':\n        return /*#__PURE__*/_jsxDEV(MisFlagged, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 16\n        }, this);\n      case 'mine':\n        return /*#__PURE__*/_jsxDEV(Mine, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 16\n        }, this);\n      case 'die':\n        return /*#__PURE__*/_jsxDEV(Die, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 16\n        }, this);\n      case 'unknown':\n        return opening ? /*#__PURE__*/_jsxDEV(QuestionOpen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Question, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 45\n        }, this);\n      default:\n        return opening ? /*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(CeilBackgroundCover, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 51\n        }, this);\n    }\n  }\n  return ceils.map(function (ceil, index) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mine__ceil\",\n      children: renderContent(ceil)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 5\n    }, _this2);\n  });\n}\n_c2 = Ceils;\nvar Die = function Die() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"death\",\n      src: mineDeath\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c3 = Die;\nvar MisFlagged = function MisFlagged() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"misFlagged\",\n      src: misFlagged\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c4 = MisFlagged;\nvar Flag = function Flag() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundCover, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"flag\",\n      src: flag\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c5 = Flag;\nvar MinesAround = function MinesAround(_ref3) {\n  var mines = _ref3.mines;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"mines-around\",\n      src: getTextImg(mines)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c6 = MinesAround;\nvar Question = function Question() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundCover, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"question\",\n      src: question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c7 = Question;\nvar QuestionOpen = function QuestionOpen() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"question\",\n      src: question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c8 = QuestionOpen;\nvar Mine = function Mine() {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CeilBackgroundOpen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 5\n    }, _this3), /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"mine\",\n      src: mine\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 5\n    }, _this3)]\n  }, void 0, true);\n};\n_c9 = Mine;\nvar CeilBackgroundCover = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n  border-left: rgb(245, 245, 245) solid 2px;\\n  border-top: rgb(245, 245, 245) solid 2px;\\n  border-right: rgb(128, 128, 128) solid 2px;\\n  border-bottom: rgb(128, 128, 128) solid 2px;\\n\"])));\n_c10 = CeilBackgroundCover;\nvar CeilBackgroundOpen = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n  border-left: rgb(128, 128, 128) solid 1px;\\n  border-top: rgb(128, 128, 128) solid 1px;\\n\"])));\n_c11 = CeilBackgroundOpen;\nexport default styled(MineSweeperView)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  img {\\n    pointer-events: none;\\n  }\\n  .mine__options {\\n    height: 20px;\\n    background: rgb(236, 233, 216);\\n  }\\n  .mine__content {\\n    border-left: rgb(245, 245, 245) solid 3px;\\n    border-top: rgb(245, 245, 245) solid 3px;\\n    background-color: rgb(192, 192, 192);\\n    padding: 5px;\\n  }\\n  .mine__score-bar {\\n    height: 34px;\\n    border-radius: 1px;\\n    border-top: rgb(128, 128, 128) solid 2px;\\n    border-left: rgb(128, 128, 128) solid 2px;\\n    border-right: rgb(245, 245, 245) solid 2px;\\n    border-bottom: rgb(245, 245, 245) solid 2px;\\n    margin-bottom: 5px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 3px 7px 3px 4px;\\n  }\\n  .mine__digits__outer {\\n    width: 40px;\\n    height: 24px;\\n    border-width: 0 1px 1px 0;\\n    border-style: solid;\\n    border-color: #fff;\\n    text-align: right;\\n  }\\n  .mine__face__outer {\\n    width: 24px;\\n    height: 24px;\\n    border-top: 1px solid rgb(128, 128, 128);\\n    border-left: 1px solid rgb(128, 128, 128);\\n    border-radius: 2px;\\n    transform: translateX(1px);\\n  }\\n  .mine__face {\\n    border-radius: 2px;\\n    height: 100%;\\n    width: 100%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: rgb(192, 192, 192);\\n    border-width: 2px;\\n    border-style: solid;\\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\\n      rgb(245, 245, 245);\\n    outline: none;\\n    &:active:hover {\\n      border-width: 1px;\\n      border-color: rgb(128, 128, 128);\\n      img {\\n        transform: translate(1px, 1px);\\n      }\\n      img:nth-child(1) {\\n        display: none;\\n      }\\n      img:nth-child(2) {\\n        display: block;\\n      }\\n    }\\n    img:nth-child(2) {\\n      display: none;\\n    }\\n  }\\n  .mine__content__inner {\\n    display: grid;\\n    grid-template-columns: repeat(\", \", 16px);\\n    grid-template-rows: repeat(\", \", 16px);\\n    border-top: rgb(128, 128, 128) solid 3px;\\n    border-left: rgb(128, 128, 128) solid 3px;\\n    border-right: rgb(245, 245, 245) solid 3px;\\n    border-bottom: rgb(245, 245, 245) solid 3px;\\n  }\\n  .mine__ceil {\\n    position: relative;\\n    img {\\n      position: absolute;\\n      width: 16px;\\n      height: 16px;\\n    }\\n  }\\n\"])), function (_ref4) {\n  var columns = _ref4.columns;\n  return columns;\n}, function (_ref5) {\n  var rows = _ref5.rows;\n  return rows;\n});\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n$RefreshReg$(_c, \"MineSweeperView\");\n$RefreshReg$(_c2, \"Ceils\");\n$RefreshReg$(_c3, \"Die\");\n$RefreshReg$(_c4, \"MisFlagged\");\n$RefreshReg$(_c5, \"Flag\");\n$RefreshReg$(_c6, \"MinesAround\");\n$RefreshReg$(_c7, \"Question\");\n$RefreshReg$(_c8, \"QuestionOpen\");\n$RefreshReg$(_c9, \"Mine\");\n$RefreshReg$(_c10, \"CeilBackgroundCover\");\n$RefreshReg$(_c11, \"CeilBackgroundOpen\");","map":{"version":3,"names":["React","useEffect","useRef","useState","styled","WindowDropDowns","dropDownData","dead","smile","win","ohh","empty","open1","open2","open3","open4","open5","open6","open7","open8","flag","mine","mineDeath","misFlagged","question","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","digit_","digits","renderDigits","number","numberStr","_number","String","split","map","n","i","genDropDownData","difficulty","_Game","Game","symbol","Help","MineSweeperView","ceils","className","changeCeilState","onReset","openCeil","openCeils","mines","status","seconds","onClose","openingCeil","openingCeils","face","mouseDownContent","setMouseDownContent","index","behavior","openBehavior","setOpenBehavior","remainMines","filter","ceil","state","length","statusFace","onMouseDownContent","e","button","current","contains","target","onMouseDownCeils","Array","prototype","indexOf","call","currentTarget","children","closest","buttons","onMouseOverCeils","onMouseUpCeils","onClickOptionItem","item","window","addEventListener","onMouseUp","removeEventListener","preventDefault","getTextImg","Ceils","renderContent","minesAround","opening","Die","MisFlagged","Flag","MinesAround","Question","QuestionOpen","Mine","CeilBackgroundCover","div","CeilBackgroundOpen","columns","rows"],"sources":["/Users/utils/misc/alexnicita.github.io/src/WinXP/apps/Minesweeper/MinesweeperView.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { WindowDropDowns } from 'components';\nimport dropDownData from './dropDownData';\nimport dead from 'assets/minesweeper/dead.png';\nimport smile from 'assets/minesweeper/smile.png';\nimport win from 'assets/minesweeper/win.png';\nimport ohh from 'assets/minesweeper/ohh.png';\nimport empty from 'assets/empty.png';\nimport open1 from 'assets/minesweeper/open1.png';\nimport open2 from 'assets/minesweeper/open2.png';\nimport open3 from 'assets/minesweeper/open3.png';\nimport open4 from 'assets/minesweeper/open4.png';\nimport open5 from 'assets/minesweeper/open5.png';\nimport open6 from 'assets/minesweeper/open6.png';\nimport open7 from 'assets/minesweeper/open7.png';\nimport open8 from 'assets/minesweeper/open8.png';\nimport flag from 'assets/minesweeper/flag.png';\nimport mine from 'assets/minesweeper/mine-ceil.png';\nimport mineDeath from 'assets/minesweeper/mine-death.png';\nimport misFlagged from 'assets/minesweeper/misflagged.png';\nimport question from 'assets/minesweeper/question.png';\nimport digit0 from 'assets/minesweeper/digit0.png';\nimport digit1 from 'assets/minesweeper/digit1.png';\nimport digit2 from 'assets/minesweeper/digit2.png';\nimport digit3 from 'assets/minesweeper/digit3.png';\nimport digit4 from 'assets/minesweeper/digit4.png';\nimport digit5 from 'assets/minesweeper/digit5.png';\nimport digit6 from 'assets/minesweeper/digit6.png';\nimport digit7 from 'assets/minesweeper/digit7.png';\nimport digit8 from 'assets/minesweeper/digit8.png';\nimport digit9 from 'assets/minesweeper/digit9.png';\nimport digit_ from 'assets/minesweeper/digit-.png';\n\nconst digits = [\n  digit0,\n  digit1,\n  digit2,\n  digit3,\n  digit4,\n  digit5,\n  digit6,\n  digit7,\n  digit8,\n  digit9,\n];\nfunction renderDigits(number) {\n  let numberStr;\n  if (number < 0) {\n    const _number = -number % 100;\n    if (_number === 0) {\n      numberStr = '00';\n    } else if (_number < 10) {\n      numberStr = '0' + _number;\n    } else {\n      numberStr = String(_number);\n    }\n    return (\n      <>\n        <img src={digit_} alt=\"-\" />\n        {numberStr.split('').map((n, i) => (\n          <img src={digits[n]} key={i} alt={n} />\n        ))}\n      </>\n    );\n  }\n\n  numberStr = number < 999 ? String(number) : '999';\n  if (number < 10) numberStr = '00' + numberStr;\n  else if (number < 100) numberStr = '0' + numberStr;\n  return numberStr\n    .split('')\n    .map((n, i) => <img key={i} src={digits[n]} alt={n} />);\n}\n\nfunction genDropDownData(difficulty) {\n  let _Game = [...dropDownData.Game];\n  _Game[2].symbol = difficulty === 'Beginner' && 'check';\n  _Game[3].symbol = difficulty === 'Intermediate' && 'check';\n  _Game[4].symbol = difficulty === 'Expert' && 'check';\n  return { Game: _Game, Help: dropDownData.Help };\n}\n\nfunction MineSweeperView({\n  ceils,\n  className,\n  changeCeilState,\n  onReset,\n  openCeil,\n  openCeils,\n  mines,\n  status,\n  seconds,\n  onClose,\n  difficulty,\n  openingCeil,\n  openingCeils,\n}) {\n  const face = useRef(null);\n  const [mouseDownContent, setMouseDownContent] = useState(false);\n  const [openBehavior, setOpenBehavior] = useState({ index: -1, behavior: '' });\n  function remainMines() {\n    return (\n      mines -\n      ceils.filter(ceil => ceil.state === 'flag' || ceil.state === 'misflagged')\n        .length\n    );\n  }\n  function statusFace() {\n    if (mouseDownContent) return <img alt=\"ohh\" src={ohh} />;\n    switch (status) {\n      case 'died':\n        return <img alt=\"dead\" src={dead} />;\n      case 'won':\n        return <img alt=\"win\" src={win} />;\n      default:\n        return <img alt=\"smile\" src={smile} />;\n    }\n  }\n  function onMouseDownContent(e) {\n    if (e.button !== 0) return;\n    if (\n      face.current.contains(e.target) ||\n      status === 'won' ||\n      status === 'died'\n    )\n      return;\n    setMouseDownContent(true);\n  }\n  useEffect(() => {\n    const { index, behavior } = openBehavior;\n    switch (behavior) {\n      case 'single':\n        return openingCeil(index);\n      case 'multi':\n        return openingCeils(index);\n      default:\n        openingCeil(-1);\n    }\n    // eslint-disable-next-line\n  }, [openBehavior.index, openBehavior.behavior]);\n  function onMouseDownCeils(e) {\n    const index = Array.prototype.indexOf.call(\n      e.currentTarget.children,\n      e.target.closest('.mine__ceil'),\n    );\n    if (e.button === 2 && e.buttons === 2 && index !== -1) {\n      changeCeilState(index);\n    } else if (e.button === 0 && e.buttons === 1) {\n      setOpenBehavior({\n        index,\n        behavior: 'single',\n      });\n    } else if (e.buttons === 3) {\n      setOpenBehavior({\n        index,\n        behavior: 'multi',\n      });\n    }\n  }\n  function onMouseOverCeils(e) {\n    const index = Array.prototype.indexOf.call(\n      e.currentTarget.children,\n      e.target.closest('.mine__ceil'),\n    );\n    setOpenBehavior({\n      index,\n      behavior: openBehavior.behavior,\n    });\n  }\n  function onMouseUpCeils() {\n    const { behavior, index } = openBehavior;\n    if (index === -1) return;\n    if (behavior === 'single') {\n      openCeil(index);\n    } else if (behavior === 'multi') {\n      openCeils(index);\n    }\n  }\n  function onClickOptionItem(item) {\n    switch (item) {\n      case 'Exit':\n        onClose();\n        break;\n      case 'Beginner':\n      case 'Intermediate':\n      case 'Expert':\n        onReset(item);\n        break;\n      case 'New':\n        onReset();\n        break;\n      default:\n    }\n  }\n  useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  function onMouseUp(e) {\n    setOpenBehavior({ index: -1, behavior: '' });\n    setMouseDownContent(false);\n  }\n  useEffect(() => {\n    window.addEventListener('mouseup', onMouseUp);\n    return () => {\n      window.removeEventListener('mouseup', onMouseUp);\n    };\n  }, []);\n  return (\n    <div className={className} onContextMenu={e => e.preventDefault()}>\n      <div className=\"mine__options\">\n        <WindowDropDowns\n          items={genDropDownData(difficulty)}\n          onClickItem={onClickOptionItem}\n        />\n      </div>\n      <section className=\"mine__content\" onMouseDown={onMouseDownContent}>\n        <div className=\"mine__score-bar\">\n          <div className=\"mine__digits__outer\">\n            {renderDigits(remainMines())}\n          </div>\n          <div className=\"mine__face__outer\">\n            <button ref={face} className=\"mine__face\" onClick={() => onReset()}>\n              {statusFace()}\n              <img alt=\"smile\" src={smile} />\n            </button>\n          </div>\n          <div className=\"mine__digits__outer\">{renderDigits(seconds)}</div>\n        </div>\n        <div\n          className=\"mine__content__inner\"\n          onMouseDown={onMouseDownCeils}\n          onMouseOver={onMouseOverCeils}\n          onMouseUp={onMouseUpCeils}\n        >\n          <Ceils ceils={ceils} />\n        </div>\n      </section>\n    </div>\n  );\n}\nfunction getTextImg(index) {\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\n}\nfunction Ceils({ ceils }) {\n  function renderContent(ceil) {\n    const { state, minesAround, opening } = ceil;\n    switch (state) {\n      case 'open':\n        return <MinesAround mines={minesAround} />;\n      case 'flag':\n        return <Flag />;\n      case 'misflagged':\n        return <MisFlagged />;\n      case 'mine':\n        return <Mine />;\n      case 'die':\n        return <Die />;\n      case 'unknown':\n        return opening ? <QuestionOpen /> : <Question />;\n      default:\n        return opening ? <CeilBackgroundOpen /> : <CeilBackgroundCover />;\n    }\n  }\n\n  return ceils.map((ceil, index) => (\n    <div key={index} className=\"mine__ceil\">\n      {renderContent(ceil)}\n    </div>\n  ));\n}\n\nconst Die = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"death\" src={mineDeath} />\n  </>\n);\nconst MisFlagged = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"misFlagged\" src={misFlagged} />\n  </>\n);\nconst Flag = () => (\n  <>\n    <CeilBackgroundCover />\n    <img alt=\"flag\" src={flag} />\n  </>\n);\nconst MinesAround = ({ mines }) => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"mines-around\" src={getTextImg(mines)} />\n  </>\n);\nconst Question = () => (\n  <>\n    <CeilBackgroundCover />\n    <img alt=\"question\" src={question} />\n  </>\n);\nconst QuestionOpen = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"question\" src={question} />\n  </>\n);\nconst Mine = () => (\n  <>\n    <CeilBackgroundOpen />\n    <img alt=\"mine\" src={mine} />\n  </>\n);\n\nconst CeilBackgroundCover = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(245, 245, 245) solid 2px;\n  border-top: rgb(245, 245, 245) solid 2px;\n  border-right: rgb(128, 128, 128) solid 2px;\n  border-bottom: rgb(128, 128, 128) solid 2px;\n`;\nconst CeilBackgroundOpen = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-left: rgb(128, 128, 128) solid 1px;\n  border-top: rgb(128, 128, 128) solid 1px;\n`;\n\nexport default styled(MineSweeperView)`\n  img {\n    pointer-events: none;\n  }\n  .mine__options {\n    height: 20px;\n    background: rgb(236, 233, 216);\n  }\n  .mine__content {\n    border-left: rgb(245, 245, 245) solid 3px;\n    border-top: rgb(245, 245, 245) solid 3px;\n    background-color: rgb(192, 192, 192);\n    padding: 5px;\n  }\n  .mine__score-bar {\n    height: 34px;\n    border-radius: 1px;\n    border-top: rgb(128, 128, 128) solid 2px;\n    border-left: rgb(128, 128, 128) solid 2px;\n    border-right: rgb(245, 245, 245) solid 2px;\n    border-bottom: rgb(245, 245, 245) solid 2px;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 3px 7px 3px 4px;\n  }\n  .mine__digits__outer {\n    width: 40px;\n    height: 24px;\n    border-width: 0 1px 1px 0;\n    border-style: solid;\n    border-color: #fff;\n    text-align: right;\n  }\n  .mine__face__outer {\n    width: 24px;\n    height: 24px;\n    border-top: 1px solid rgb(128, 128, 128);\n    border-left: 1px solid rgb(128, 128, 128);\n    border-radius: 2px;\n    transform: translateX(1px);\n  }\n  .mine__face {\n    border-radius: 2px;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: rgb(192, 192, 192);\n    border-width: 2px;\n    border-style: solid;\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\n      rgb(245, 245, 245);\n    outline: none;\n    &:active:hover {\n      border-width: 1px;\n      border-color: rgb(128, 128, 128);\n      img {\n        transform: translate(1px, 1px);\n      }\n      img:nth-child(1) {\n        display: none;\n      }\n      img:nth-child(2) {\n        display: block;\n      }\n    }\n    img:nth-child(2) {\n      display: none;\n    }\n  }\n  .mine__content__inner {\n    display: grid;\n    grid-template-columns: repeat(${({ columns }) => columns}, 16px);\n    grid-template-rows: repeat(${({ rows }) => rows}, 16px);\n    border-top: rgb(128, 128, 128) solid 3px;\n    border-left: rgb(128, 128, 128) solid 3px;\n    border-right: rgb(245, 245, 245) solid 3px;\n    border-bottom: rgb(245, 245, 245) solid 3px;\n  }\n  .mine__ceil {\n    position: relative;\n    img {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n    }\n  }\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}