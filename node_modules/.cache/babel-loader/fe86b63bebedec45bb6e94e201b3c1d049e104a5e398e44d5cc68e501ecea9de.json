{"ast":null,"code":"import _defineProperty from\"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _taggedTemplateLiteral from\"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/utils/misc/alexnicita.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var _templateObject,_animation,_templateObject2;import React,{useReducer,useRef,useCallback}from'react';import styled,{keyframes}from'styled-components';import useMouse from'react-use/lib/useMouse';import{ADD_APP,DEL_APP,FOCUS_APP,MINIMIZE_APP,TOGGLE_MAXIMIZE_APP,FOCUS_ICON,SELECT_ICONS,FOCUS_DESKTOP,START_SELECT,END_SELECT,POWER_OFF,CANCEL_POWER_OFF}from'./constants/actions';import{FOCUSING,POWER_STATE}from'./constants';import{defaultIconState,defaultAppState,appSettings}from'./apps';import Modal from'./Modal';import Footer from'./Footer';import Windows from'./Windows';import Icons from'./Icons';import{DashedBox}from'components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initState={apps:defaultAppState,nextAppID:defaultAppState.length,nextZIndex:defaultAppState.length,focusing:FOCUSING.WINDOW,icons:defaultIconState,selecting:false,powerState:POWER_STATE.START};var reducer=function reducer(state){var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{type:''};switch(action.type){case ADD_APP:var app=state.apps.find(function(_app){return _app.component===action.payload.component;});if(action.payload.multiInstance||!app){return _objectSpread(_objectSpread({},state),{},{apps:[].concat(_toConsumableArray(state.apps),[_objectSpread(_objectSpread({},action.payload),{},{id:state.nextAppID,zIndex:state.nextZIndex})]),nextAppID:state.nextAppID+1,nextZIndex:state.nextZIndex+1,focusing:FOCUSING.WINDOW});}var apps=state.apps.map(function(app){return app.component===action.payload.component?_objectSpread(_objectSpread({},app),{},{zIndex:state.nextZIndex,minimized:false}):app;});return _objectSpread(_objectSpread({},state),{},{apps:apps,nextZIndex:state.nextZIndex+1,focusing:FOCUSING.WINDOW});case DEL_APP:if(state.focusing!==FOCUSING.WINDOW)return state;return _objectSpread(_objectSpread({},state),{},{apps:state.apps.filter(function(app){return app.id!==action.payload;}),focusing:state.apps.length>1?FOCUSING.WINDOW:state.icons.find(function(icon){return icon.isFocus;})?FOCUSING.ICON:FOCUSING.DESKTOP});case FOCUS_APP:{var _apps=state.apps.map(function(app){return app.id===action.payload?_objectSpread(_objectSpread({},app),{},{zIndex:state.nextZIndex,minimized:false}):app;});return _objectSpread(_objectSpread({},state),{},{apps:_apps,nextZIndex:state.nextZIndex+1,focusing:FOCUSING.WINDOW});}case MINIMIZE_APP:{if(state.focusing!==FOCUSING.WINDOW)return state;var _apps2=state.apps.map(function(app){return app.id===action.payload?_objectSpread(_objectSpread({},app),{},{minimized:true}):app;});return _objectSpread(_objectSpread({},state),{},{apps:_apps2,focusing:FOCUSING.WINDOW});}case TOGGLE_MAXIMIZE_APP:{if(state.focusing!==FOCUSING.WINDOW)return state;var _apps3=state.apps.map(function(app){return app.id===action.payload?_objectSpread(_objectSpread({},app),{},{maximized:!app.maximized}):app;});return _objectSpread(_objectSpread({},state),{},{apps:_apps3,focusing:FOCUSING.WINDOW});}case FOCUS_ICON:{var icons=state.icons.map(function(icon){return _objectSpread(_objectSpread({},icon),{},{isFocus:icon.id===action.payload});});return _objectSpread(_objectSpread({},state),{},{focusing:FOCUSING.ICON,icons:icons});}case SELECT_ICONS:{var _icons=state.icons.map(function(icon){return _objectSpread(_objectSpread({},icon),{},{isFocus:action.payload.includes(icon.id)});});return _objectSpread(_objectSpread({},state),{},{icons:_icons,focusing:FOCUSING.ICON});}case FOCUS_DESKTOP:return _objectSpread(_objectSpread({},state),{},{focusing:FOCUSING.DESKTOP,icons:state.icons.map(function(icon){return _objectSpread(_objectSpread({},icon),{},{isFocus:false});})});case START_SELECT:return _objectSpread(_objectSpread({},state),{},{focusing:FOCUSING.DESKTOP,icons:state.icons.map(function(icon){return _objectSpread(_objectSpread({},icon),{},{isFocus:false});}),selecting:action.payload});case END_SELECT:return _objectSpread(_objectSpread({},state),{},{selecting:null});case POWER_OFF:return _objectSpread(_objectSpread({},state),{},{powerState:action.payload});case CANCEL_POWER_OFF:return _objectSpread(_objectSpread({},state),{},{powerState:POWER_STATE.START});default:return state;}};function WinXP(){var _useReducer=useReducer(reducer,initState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var ref=useRef(null);var mouse=useMouse(ref);var focusedAppId=getFocusedAppId();var onFocusApp=useCallback(function(id){dispatch({type:FOCUS_APP,payload:id});},[]);var onMaximizeWindow=useCallback(function(id){if(focusedAppId===id){dispatch({type:TOGGLE_MAXIMIZE_APP,payload:id});}},[focusedAppId]);var onMinimizeWindow=useCallback(function(id){if(focusedAppId===id){dispatch({type:MINIMIZE_APP,payload:id});}},[focusedAppId]);var onCloseApp=useCallback(function(id){if(focusedAppId===id){dispatch({type:DEL_APP,payload:id});}},[focusedAppId]);function onMouseDownFooterApp(id){if(focusedAppId===id){dispatch({type:MINIMIZE_APP,payload:id});}else{dispatch({type:FOCUS_APP,payload:id});}}function onMouseDownIcon(id){dispatch({type:FOCUS_ICON,payload:id});}function onDoubleClickIcon(component){var appSetting=Object.values(appSettings).find(function(setting){return setting.component===component;});dispatch({type:ADD_APP,payload:appSetting});}function getFocusedAppId(){if(state.focusing!==FOCUSING.WINDOW)return-1;var focusedApp=_toConsumableArray(state.apps).sort(function(a,b){return b.zIndex-a.zIndex;}).find(function(app){return!app.minimized;});return focusedApp?focusedApp.id:-1;}function onMouseDownFooter(){dispatch({type:FOCUS_DESKTOP});}function onClickMenuItem(o){if(o==='Internet')dispatch({type:ADD_APP,payload:appSettings['Internet Explorer']});else if(o==='Minesweeper')dispatch({type:ADD_APP,payload:appSettings.Minesweeper});else if(o==='My Computer')dispatch({type:ADD_APP,payload:appSettings['My Computer']});else if(o==='Notepad')dispatch({type:ADD_APP,payload:appSettings.Notepad});else if(o==='Winamp')dispatch({type:ADD_APP,payload:appSettings.Winamp});else if(o==='Paint')dispatch({type:ADD_APP,payload:appSettings.Paint});else if(o==='Log Off')dispatch({type:POWER_OFF,payload:POWER_STATE.LOG_OFF});else if(o==='Turn Off Computer')dispatch({type:POWER_OFF,payload:POWER_STATE.TURN_OFF});else dispatch({type:ADD_APP,payload:_objectSpread(_objectSpread({},appSettings.Error),{},{injectProps:{message:'C:\\\\\\nApplication not found'}})});}function onMouseDownDesktop(e){if(e.target===e.currentTarget)dispatch({type:START_SELECT,payload:{x:mouse.docX,y:mouse.docY}});}function onMouseUpDesktop(e){dispatch({type:END_SELECT});}var onIconsSelected=useCallback(function(iconIds){dispatch({type:SELECT_ICONS,payload:iconIds});},[dispatch]);function onClickModalButton(text){dispatch({type:CANCEL_POWER_OFF});dispatch({type:ADD_APP,payload:appSettings.Error});}function onModalClose(){dispatch({type:CANCEL_POWER_OFF});}return/*#__PURE__*/_jsxs(Container,{ref:ref,onMouseUp:onMouseUpDesktop,onMouseDown:onMouseDownDesktop,state:state.powerState,children:[/*#__PURE__*/_jsx(Icons,{icons:state.icons,onMouseDown:onMouseDownIcon,onDoubleClick:onDoubleClickIcon,displayFocus:state.focusing===FOCUSING.ICON,appSettings:appSettings,mouse:mouse,selecting:state.selecting,setSelectedIcons:onIconsSelected}),/*#__PURE__*/_jsx(DashedBox,{startPos:state.selecting,mouse:mouse}),/*#__PURE__*/_jsx(Windows,{apps:state.apps,onMouseDown:onFocusApp,onClose:onCloseApp,onMinimize:onMinimizeWindow,onMaximize:onMaximizeWindow,focusedAppId:focusedAppId}),/*#__PURE__*/_jsx(Footer,{apps:state.apps,onMouseDownApp:onMouseDownFooterApp,focusedAppId:focusedAppId,onMouseDown:onMouseDownFooter,onClickMenuItem:onClickMenuItem}),state.powerState!==POWER_STATE.START&&/*#__PURE__*/_jsx(Modal,{onClose:onModalClose,onClickButton:onClickModalButton,mode:state.powerState})]});}var powerOffAnimation=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  0% {\\n    filter: brightness(1) grayscale(0);\\n  }\\n  30% {\\n    filter: brightness(1) grayscale(0);\\n  }\\n  100% {\\n    filter: brightness(0.6) grayscale(1);\\n  }\\n\"])));var animation=(_animation={},_defineProperty(_animation,POWER_STATE.START,''),_defineProperty(_animation,POWER_STATE.TURN_OFF,powerOffAnimation),_defineProperty(_animation,POWER_STATE.LOG_OFF,powerOffAnimation),_animation);var Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  @import url('https://fonts.googleapis.com/css?family=Noto+Sans');\\n  font-family: Tahoma, 'Noto Sans', sans-serif;\\n  height: 100%;\\n  overflow: hidden;\\n  position: relative;\\n  background: url(https://i.imgur.com/Zk6TR5k.jpg) no-repeat center center fixed;\\n  background-size: cover;\\n  animation: \",\" 5s forwards;\\n  *:not(input):not(textarea) {\\n    user-select: none;\\n  }\\n\"])),function(_ref){var state=_ref.state;return animation[state];});export default WinXP;","map":{"version":3,"names":["React","useReducer","useRef","useCallback","styled","keyframes","useMouse","ADD_APP","DEL_APP","FOCUS_APP","MINIMIZE_APP","TOGGLE_MAXIMIZE_APP","FOCUS_ICON","SELECT_ICONS","FOCUS_DESKTOP","START_SELECT","END_SELECT","POWER_OFF","CANCEL_POWER_OFF","FOCUSING","POWER_STATE","defaultIconState","defaultAppState","appSettings","Modal","Footer","Windows","Icons","DashedBox","initState","apps","nextAppID","length","nextZIndex","focusing","WINDOW","icons","selecting","powerState","START","reducer","state","action","type","app","find","_app","component","payload","multiInstance","id","zIndex","map","minimized","filter","icon","isFocus","ICON","DESKTOP","maximized","includes","WinXP","dispatch","ref","mouse","focusedAppId","getFocusedAppId","onFocusApp","onMaximizeWindow","onMinimizeWindow","onCloseApp","onMouseDownFooterApp","onMouseDownIcon","onDoubleClickIcon","appSetting","Object","values","setting","focusedApp","sort","a","b","onMouseDownFooter","onClickMenuItem","o","Minesweeper","Notepad","Winamp","Paint","LOG_OFF","TURN_OFF","Error","injectProps","message","onMouseDownDesktop","e","target","currentTarget","x","docX","y","docY","onMouseUpDesktop","onIconsSelected","iconIds","onClickModalButton","text","onModalClose","powerOffAnimation","animation","Container","div"],"sources":["/Users/utils/misc/alexnicita.github.io/src/WinXP/index.js"],"sourcesContent":["import React, { useReducer, useRef, useCallback } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport useMouse from 'react-use/lib/useMouse';\n\nimport {\n  ADD_APP,\n  DEL_APP,\n  FOCUS_APP,\n  MINIMIZE_APP,\n  TOGGLE_MAXIMIZE_APP,\n  FOCUS_ICON,\n  SELECT_ICONS,\n  FOCUS_DESKTOP,\n  START_SELECT,\n  END_SELECT,\n  POWER_OFF,\n  CANCEL_POWER_OFF,\n} from './constants/actions';\nimport { FOCUSING, POWER_STATE } from './constants';\nimport { defaultIconState, defaultAppState, appSettings } from './apps';\nimport Modal from './Modal';\nimport Footer from './Footer';\nimport Windows from './Windows';\nimport Icons from './Icons';\nimport { DashedBox } from 'components';\n\nconst initState = {\n  apps: defaultAppState,\n  nextAppID: defaultAppState.length,\n  nextZIndex: defaultAppState.length,\n  focusing: FOCUSING.WINDOW,\n  icons: defaultIconState,\n  selecting: false,\n  powerState: POWER_STATE.START,\n};\nconst reducer = (state, action = { type: '' }) => {\n  switch (action.type) {\n    case ADD_APP:\n      const app = state.apps.find(\n        _app => _app.component === action.payload.component,\n      );\n      if (action.payload.multiInstance || !app) {\n        return {\n          ...state,\n          apps: [\n            ...state.apps,\n            {\n              ...action.payload,\n              id: state.nextAppID,\n              zIndex: state.nextZIndex,\n            },\n          ],\n          nextAppID: state.nextAppID + 1,\n          nextZIndex: state.nextZIndex + 1,\n          focusing: FOCUSING.WINDOW,\n        };\n      }\n      const apps = state.apps.map(app =>\n        app.component === action.payload.component\n          ? { ...app, zIndex: state.nextZIndex, minimized: false }\n          : app,\n      );\n      return {\n        ...state,\n        apps,\n        nextZIndex: state.nextZIndex + 1,\n        focusing: FOCUSING.WINDOW,\n      };\n    case DEL_APP:\n      if (state.focusing !== FOCUSING.WINDOW) return state;\n      return {\n        ...state,\n        apps: state.apps.filter(app => app.id !== action.payload),\n        focusing:\n          state.apps.length > 1\n            ? FOCUSING.WINDOW\n            : state.icons.find(icon => icon.isFocus)\n            ? FOCUSING.ICON\n            : FOCUSING.DESKTOP,\n      };\n    case FOCUS_APP: {\n      const apps = state.apps.map(app =>\n        app.id === action.payload\n          ? { ...app, zIndex: state.nextZIndex, minimized: false }\n          : app,\n      );\n      return {\n        ...state,\n        apps,\n        nextZIndex: state.nextZIndex + 1,\n        focusing: FOCUSING.WINDOW,\n      };\n    }\n    case MINIMIZE_APP: {\n      if (state.focusing !== FOCUSING.WINDOW) return state;\n      const apps = state.apps.map(app =>\n        app.id === action.payload ? { ...app, minimized: true } : app,\n      );\n      return {\n        ...state,\n        apps,\n        focusing: FOCUSING.WINDOW,\n      };\n    }\n    case TOGGLE_MAXIMIZE_APP: {\n      if (state.focusing !== FOCUSING.WINDOW) return state;\n      const apps = state.apps.map(app =>\n        app.id === action.payload ? { ...app, maximized: !app.maximized } : app,\n      );\n      return {\n        ...state,\n        apps,\n        focusing: FOCUSING.WINDOW,\n      };\n    }\n    case FOCUS_ICON: {\n      const icons = state.icons.map(icon => ({\n        ...icon,\n        isFocus: icon.id === action.payload,\n      }));\n      return {\n        ...state,\n        focusing: FOCUSING.ICON,\n        icons,\n      };\n    }\n    case SELECT_ICONS: {\n      const icons = state.icons.map(icon => ({\n        ...icon,\n        isFocus: action.payload.includes(icon.id),\n      }));\n      return {\n        ...state,\n        icons,\n        focusing: FOCUSING.ICON,\n      };\n    }\n    case FOCUS_DESKTOP:\n      return {\n        ...state,\n        focusing: FOCUSING.DESKTOP,\n        icons: state.icons.map(icon => ({\n          ...icon,\n          isFocus: false,\n        })),\n      };\n    case START_SELECT:\n      return {\n        ...state,\n        focusing: FOCUSING.DESKTOP,\n        icons: state.icons.map(icon => ({\n          ...icon,\n          isFocus: false,\n        })),\n        selecting: action.payload,\n      };\n    case END_SELECT:\n      return {\n        ...state,\n        selecting: null,\n      };\n    case POWER_OFF:\n      return {\n        ...state,\n        powerState: action.payload,\n      };\n    case CANCEL_POWER_OFF:\n      return {\n        ...state,\n        powerState: POWER_STATE.START,\n      };\n    default:\n      return state;\n  }\n};\nfunction WinXP() {\n  const [state, dispatch] = useReducer(reducer, initState);\n  const ref = useRef(null);\n  const mouse = useMouse(ref);\n  const focusedAppId = getFocusedAppId();\n  const onFocusApp = useCallback(id => {\n    dispatch({ type: FOCUS_APP, payload: id });\n  }, []);\n  const onMaximizeWindow = useCallback(\n    id => {\n      if (focusedAppId === id) {\n        dispatch({ type: TOGGLE_MAXIMIZE_APP, payload: id });\n      }\n    },\n    [focusedAppId],\n  );\n  const onMinimizeWindow = useCallback(\n    id => {\n      if (focusedAppId === id) {\n        dispatch({ type: MINIMIZE_APP, payload: id });\n      }\n    },\n    [focusedAppId],\n  );\n  const onCloseApp = useCallback(\n    id => {\n      if (focusedAppId === id) {\n        dispatch({ type: DEL_APP, payload: id });\n      }\n    },\n    [focusedAppId],\n  );\n  function onMouseDownFooterApp(id) {\n    if (focusedAppId === id) {\n      dispatch({ type: MINIMIZE_APP, payload: id });\n    } else {\n      dispatch({ type: FOCUS_APP, payload: id });\n    }\n  }\n  function onMouseDownIcon(id) {\n    dispatch({ type: FOCUS_ICON, payload: id });\n  }\n  function onDoubleClickIcon(component) {\n    const appSetting = Object.values(appSettings).find(\n      setting => setting.component === component,\n    );\n    dispatch({ type: ADD_APP, payload: appSetting });\n  }\n  function getFocusedAppId() {\n    if (state.focusing !== FOCUSING.WINDOW) return -1;\n    const focusedApp = [...state.apps]\n      .sort((a, b) => b.zIndex - a.zIndex)\n      .find(app => !app.minimized);\n    return focusedApp ? focusedApp.id : -1;\n  }\n  function onMouseDownFooter() {\n    dispatch({ type: FOCUS_DESKTOP });\n  }\n  function onClickMenuItem(o) {\n    if (o === 'Internet')\n      dispatch({ type: ADD_APP, payload: appSettings['Internet Explorer'] });\n    else if (o === 'Minesweeper')\n      dispatch({ type: ADD_APP, payload: appSettings.Minesweeper });\n    else if (o === 'My Computer')\n      dispatch({ type: ADD_APP, payload: appSettings['My Computer'] });\n    else if (o === 'Notepad')\n      dispatch({ type: ADD_APP, payload: appSettings.Notepad });\n    else if (o === 'Winamp')\n      dispatch({ type: ADD_APP, payload: appSettings.Winamp });\n    else if (o === 'Paint')\n      dispatch({ type: ADD_APP, payload: appSettings.Paint });\n    else if (o === 'Log Off')\n      dispatch({ type: POWER_OFF, payload: POWER_STATE.LOG_OFF });\n    else if (o === 'Turn Off Computer')\n      dispatch({ type: POWER_OFF, payload: POWER_STATE.TURN_OFF });\n    else\n      dispatch({\n        type: ADD_APP,\n        payload: {\n          ...appSettings.Error,\n          injectProps: { message: 'C:\\\\\\nApplication not found' },\n        },\n      });\n  }\n  function onMouseDownDesktop(e) {\n    if (e.target === e.currentTarget)\n      dispatch({\n        type: START_SELECT,\n        payload: { x: mouse.docX, y: mouse.docY },\n      });\n  }\n  function onMouseUpDesktop(e) {\n    dispatch({ type: END_SELECT });\n  }\n  const onIconsSelected = useCallback(\n    iconIds => {\n      dispatch({ type: SELECT_ICONS, payload: iconIds });\n    },\n    [dispatch],\n  );\n  function onClickModalButton(text) {\n    dispatch({ type: CANCEL_POWER_OFF });\n    dispatch({\n      type: ADD_APP,\n      payload: appSettings.Error,\n    });\n  }\n  function onModalClose() {\n    dispatch({ type: CANCEL_POWER_OFF });\n  }\n  return (\n    <Container\n      ref={ref}\n      onMouseUp={onMouseUpDesktop}\n      onMouseDown={onMouseDownDesktop}\n      state={state.powerState}\n    >\n      <Icons\n        icons={state.icons}\n        onMouseDown={onMouseDownIcon}\n        onDoubleClick={onDoubleClickIcon}\n        displayFocus={state.focusing === FOCUSING.ICON}\n        appSettings={appSettings}\n        mouse={mouse}\n        selecting={state.selecting}\n        setSelectedIcons={onIconsSelected}\n      />\n      <DashedBox startPos={state.selecting} mouse={mouse} />\n      <Windows\n        apps={state.apps}\n        onMouseDown={onFocusApp}\n        onClose={onCloseApp}\n        onMinimize={onMinimizeWindow}\n        onMaximize={onMaximizeWindow}\n        focusedAppId={focusedAppId}\n      />\n      <Footer\n        apps={state.apps}\n        onMouseDownApp={onMouseDownFooterApp}\n        focusedAppId={focusedAppId}\n        onMouseDown={onMouseDownFooter}\n        onClickMenuItem={onClickMenuItem}\n      />\n      {state.powerState !== POWER_STATE.START && (\n        <Modal\n          onClose={onModalClose}\n          onClickButton={onClickModalButton}\n          mode={state.powerState}\n        />\n      )}\n    </Container>\n  );\n}\n\nconst powerOffAnimation = keyframes`\n  0% {\n    filter: brightness(1) grayscale(0);\n  }\n  30% {\n    filter: brightness(1) grayscale(0);\n  }\n  100% {\n    filter: brightness(0.6) grayscale(1);\n  }\n`;\nconst animation = {\n  [POWER_STATE.START]: '',\n  [POWER_STATE.TURN_OFF]: powerOffAnimation,\n  [POWER_STATE.LOG_OFF]: powerOffAnimation,\n};\n\nconst Container = styled.div`\n  @import url('https://fonts.googleapis.com/css?family=Noto+Sans');\n  font-family: Tahoma, 'Noto Sans', sans-serif;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  background: url(https://i.imgur.com/Zk6TR5k.jpg) no-repeat center center fixed;\n  background-size: cover;\n  animation: ${({ state }) => animation[state]} 5s forwards;\n  *:not(input):not(textarea) {\n    user-select: none;\n  }\n`;\n\nexport default WinXP;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}